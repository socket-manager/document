<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>REST-APIサーバー開発環境 | SOCKET-MANAGER Framework For PHP</title>
        <meta name="description" content="ステートマシン内蔵のイベントループによりイベントハンドラ型とステートマシン型の両方式に対応し、Chunked Transfer・SSE・Range 送信を安定制御できる REST-API 開発環境。PSR-7 準拠で OAuth2 などの外部ライブラリとも統合しやすく、Laravel 連携にも対応。" />
        <meta content="SOCKET-MANAGER, REST-API, RESTful-API, PHP フレームワーク, ステートマシン, Chunked Transfer, SSE, Range送信, CUEI, イベント駆動, Laravel 連携, PSR-7, OAuth2, JWT, WebSocket, TCP, UDP, 高速API, 堅牢API" name="keywords" />
        <link rel="canonical" href="https://socket-manager.github.io/document/rest-api/" />

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LF9W695NNW"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-LF9W695NNW');
        </script>
        <link rel="icon" href="https://socket-manager.github.io/document/favicon.ico" type="image/x-icon" />
        <link type="text/css" rel="stylesheet" href="../css/common.css" media="all" />
        <script src="../js/jquery-3.7.1.min.js"></script>
        <script type="text/javascript" src="../js/common.js"></script>
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@graph": [
                {
                    "@type": "WebPage",
                    "@id": "https://socket-manager.github.io/document/rest-api/",
                    "name": "REST-APIサーバー開発環境 | SOCKET-MANAGER Framework",
                    "url": "https://socket-manager.github.io/document/rest-api/",
                    "description": "SOCKET-MANAGER Framework の REST-API 開発環境は、ステートマシン内蔵のイベントループにより Chunked Transfer・SSE・Range 送信を安定制御できる高速・堅牢な API 基盤です。REST-API は CUEI アーキテクチャ上で動作し、WebSocket/TCP/UDP と同一プロセスで共存可能です。PSR-7 準拠のため OAuth2 を含む外部ライブラリとも自然に統合でき、Laravel の Logger・Eloquent・Service Container などのリソースも追加実装なしで利用できます。",
                    "keywords": "SOCKET-MANAGER, REST-API, RESTful-API, PHP フレームワーク, ステートマシン, Chunked Transfer, SSE, Range送信, CUEI, イベント駆動, Laravel 連携, PSR-7, OAuth2, JWT, WebSocket, TCP, UDP, 高速API, 堅牢API",
                    "inLanguage": "ja",
                    "breadcrumb": {
                        "@type": "BreadcrumbList",
                        "itemListElement": [
                            {
                                "@type": "ListItem",
                                "position": 1,
                                "name": "Framework Top",
                                "item": "https://socket-manager.github.io/document/"
                            },
                            {
                                "@type": "ListItem",
                                "position": 2,
                                "name": "REST-APIサーバー開発環境",
                                "item": "https://socket-manager.github.io/document/rest-api/"
                            }
                        ]
                    },
                    "publisher": {
                        "@type": "Organization",
                        "name": "SOCKET-MANAGER",
                        "logo": {
                            "@type": "ImageObject",
                            "url": "https://socket-manager.github.io/document/logo.png",
                            "width": 355,
                            "height": 50
                        }
                    }
                },
                {
                    "@type": "ItemList",
                    "@id": "https://socket-manager.github.io/document/rest-api/basic-concepts",
                    "name": "REST-APIサーバー開発環境 - BASIC-CONCEPTS",
                    "about": {
                        "@type": "WebPage",
                        "@id": "https://socket-manager.github.io/document/rest-api/"
                    },
                    "itemListOrder": "http://schema.org/ItemListOrderAscending",
                    "numberOfItems": 2,
                    "itemListElement": [
                        {
                            "@type": "ListItem",
                            "position": 1,
                            "url": "https://socket-manager.github.io/document/rest-api/concept.html",
                            "name": "コンセプトと構造"
                        },
                        {
                            "@type": "ListItem",
                            "position": 2,
                            "url": "https://socket-manager.github.io/document/rest-api/install.html",
                            "name": "導入と構成"
                        }
                    ]
                },
                {
                    "@type": "ItemList",
                    "@id": "https://socket-manager.github.io/document/rest-api/quick-start",
                    "name": "REST-APIサーバー開発環境 - QUICK-START",
                    "about": {
                        "@type": "WebPage",
                        "@id": "https://socket-manager.github.io/document/rest-api/"
                    },
                    "itemListOrder": "http://schema.org/ItemListOrderAscending",
                    "numberOfItems": 2,
                    "itemListElement": [
                        {
                            "@type": "ListItem",
                            "position": 1,
                            "url": "https://socket-manager.github.io/document/rest-api/quickstart-sample.html",
                            "name": "サンプルを利用する場合"
                        },
                        {
                            "@type": "ListItem",
                            "position": 2,
                            "url": "https://socket-manager.github.io/document/rest-api/quickstart-new-server.html",
                            "name": "新規でサーバーを作る場合"
                        }
                    ]
                },
                {
                    "@type": "ItemList",
                    "@id": "https://socket-manager.github.io/document/rest-api/cuei-foundation",
                    "name": "REST-APIサーバー開発環境 - CUEI-FOUNDATION",
                    "about": {
                        "@type": "WebPage",
                        "@id": "https://socket-manager.github.io/document/rest-api/"
                    },
                    "itemListOrder": "http://schema.org/ItemListOrderAscending",
                    "numberOfItems": 3,
                    "itemListElement": [
                        {
                            "@type": "ListItem",
                            "position": 1,
                            "url": "https://socket-manager.github.io/document/rest-api/cuei.html",
                            "name": "CUEIとの実装レベルでの関係"
                        },
                        {
                            "@type": "ListItem",
                            "position": 2,
                            "url": "https://socket-manager.github.io/document/rest-api/psr7.html",
                            "name": "PSR-7 ラッパーの仕様"
                        },
                        {
                            "@type": "ListItem",
                            "position": 3,
                            "url": "https://socket-manager.github.io/document/rest-api/routing.html",
                            "name": "ルーティングの概要"
                        }
                    ]
                },
                {
                    "@type": "ItemList",
                    "@id": "https://socket-manager.github.io/document/rest-api/implement-styles",
                    "name": "REST-APIサーバー開発環境 - IMPLEMENT-STYLES",
                    "about": {
                        "@type": "WebPage",
                        "@id": "https://socket-manager.github.io/document/rest-api/"
                    },
                    "itemListOrder": "http://schema.org/ItemListOrderAscending",
                    "numberOfItems": 2,
                    "itemListElement": [
                        {
                            "@type": "ListItem",
                            "position": 1,
                            "url": "https://socket-manager.github.io/document/rest-api/event-handler.html",
                            "name": "イベントハンドラ型実装"
                        },
                        {
                            "@type": "ListItem",
                            "position": 2,
                            "url": "https://socket-manager.github.io/document/rest-api/state-machine.html",
                            "name": "ステートマシン型実装"
                        }
                    ]
                },
                {
                    "@type": "ItemList",
                    "@id": "https://socket-manager.github.io/document/rest-api/other-classes",
                    "name": "REST-APIサーバー開発環境 - OTHER-CLASSES",
                    "about": {
                        "@type": "WebPage",
                        "@id": "https://socket-manager.github.io/document/rest-api/"
                    },
                    "itemListOrder": "http://schema.org/ItemListOrderAscending",
                    "numberOfItems": 5,
                    "itemListElement": [
                        {
                            "@type": "ListItem",
                            "position": 1,
                            "url": "https://socket-manager.github.io/document/rest-api/main.html",
                            "name": "メイン処理クラス実装"
                        },
                        {
                            "@type": "ListItem",
                            "position": 2,
                            "url": "https://socket-manager.github.io/document/rest-api/context.html",
                            "name": "コンテキストクラス実装"
                        },
                        {
                            "@type": "ListItem",
                            "position": 3,
                            "url": "https://socket-manager.github.io/document/rest-api/parser.html",
                            "name": "パーサークラス実装"
                        },
                        {
                            "@type": "ListItem",
                            "position": 4,
                            "url": "https://socket-manager.github.io/document/rest-api/parallel.html",
                            "name": "Parallelクラス実装"
                        },
                        {
                            "@type": "ListItem",
                            "position": 5,
                            "url": "https://socket-manager.github.io/document/rest-api/scaffolding.html",
                            "name": "スキャフォールディング"
                        }
                    ]
                },
                {
                    "@type": "ItemList",
                    "@id": "https://socket-manager.github.io/document/rest-api/setting-files",
                    "name": "REST-APIサーバー開発環境 - SETTING-FILES",
                    "about": {
                        "@type": "WebPage",
                        "@id": "https://socket-manager.github.io/document/rest-api/"
                    },
                    "itemListOrder": "http://schema.org/ItemListOrderAscending",
                    "numberOfItems": 4,
                    "itemListElement": [
                        {
                            "@type": "ListItem",
                            "position": 1,
                            "url": "https://socket-manager.github.io/document/rest-api/setting-routing.html",
                            "name": "ルーティング設定"
                        },
                        {
                            "@type": "ListItem",
                            "position": 2,
                            "url": "https://socket-manager.github.io/document/rest-api/setting-parameter.html",
                            "name": "基本パラメータ設定"
                        },
                        {
                            "@type": "ListItem",
                            "position": 3,
                            "url": "https://socket-manager.github.io/document/rest-api/setting-cors.html",
                            "name": "CORS 設定"
                        },
                        {
                            "@type": "ListItem",
                            "position": 4,
                            "url": "https://socket-manager.github.io/document/rest-api/setting-parser.html",
                            "name": "パーサー設定"
                        }
                    ]
                }
            ]
        }
        </script>
    </head>
    <body>
        <div class="layout">
            <div class="menu" role="navigation" aria-label="ページメニュー">
                <h2 class="menu-title">SOCKET-MANAGER</h2>
                <h4 class="menu-reference menu-page-title-bottom">
                    <a href="../" target="_blank">&gt;&gt; Framework Top</a>
                </h4>

                <h2 class="menu-label">MAIN-MENU</h2>
                <div class="menu-text">

                    <h3 class="menu-page-title">▼REST-APIサーバー開発環境</h3>

                    <ul>
                        <li><a href="./#begin">はじめに</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#menu">メニュー構成</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#foundation">基盤技術について</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#feature">特徴</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#implement">実装形態</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#sample">サンプル構成</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#install">導入方法</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#startup">起動方法</a></li>
                    </ul>
                    <ul>
                        <li><a href="./#link">関連リンク</a></li>
                    </ul>

                    <h3 class="menu-label-sub">BASIC-CONCEPTS</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./concept.html">▶コンセプトと構造</a></h3>
                        <h3 class="menu-page-title-link"><a href="./install.html">▶導入と構成</a></h3>
                    </div>

                    <h3 class="menu-label-sub">QUICK-START</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./quickstart-sample.html">▶サンプルを利用する場合</a></h3>
                        <h3 class="menu-page-title-link"><a href="./quickstart-new-server.html">▶新規でサーバーを作る場合</a></h3>
                    </div>

                    <h3 class="menu-label-sub">CUEI-FOUNDATION</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./cuei.html">▶CUEIとの実装レベルでの関係</a></h3>
                        <h3 class="menu-page-title-link"><a href="./psr7.html">▶PSR-7 ラッパーの仕様</a></h3>
                        <h3 class="menu-page-title-link"><a href="./routing.html">▶ルーティングの概要</a></h3>
                    </div>

                    <h3 class="menu-label-sub">IMPLEMENT-STYLES</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./event-handler.html">▶イベントハンドラ型実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./state-machine.html">▶ステートマシン型実装</a></h3>
                    </div>

                    <h3 class="menu-label-sub">OTHER-CLASSES</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./main.html">▶メイン処理クラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./context.html">▶コンテキストクラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./parser.html">▶パーサークラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./parallel.html">▶Parallelクラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./scaffolding.html">▶スキャフォールディング</a></h3>
                    </div>

                    <h3 class="menu-label-sub">SETTING-FILES</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./setting-routing.html">▶ルーティング設定</a></h3>
                        <h3 class="menu-page-title-link"><a href="./setting-parameter.html">▶基本パラメータ設定</a></h3>
                        <h3 class="menu-page-title-link"><a href="./setting-cors.html">▶CORS 設定</a></h3>
                        <h3 class="menu-page-title-link"><a href="./setting-parser.html">▶パーサー設定</a></h3>
                    </div>

                    <h3 class="menu-label-sub">ADVANCED</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="../custom-command.html" target="_blank">▶カスタムコマンド作成機能</a></h3>
                        <h3 class="menu-page-title-link"><a href="../laravel.html" target="_blank">▶Laravelと連携する</a></h3>
                        <h3 class="menu-page-title-link"><a href="../system-setting.html" target="_blank">▶システム設定ファイル</a></h3>
                    </div>

                </div>

                <div class="menu-dummy-for-rest-api"></div>
            </div>
            <div class="main" role="main">

                <h1>【REST-APIサーバー開発環境】</h1>

                <a id="begin"></a>
                <h2 class="subtitle">はじめに</h2>
                <div class="text-block">
                    SOCKET-MANAGER Framework の REST-API サーバー開発環境は、リアルタイム通信基盤の上に構築された高速・堅牢な PHP 製 API フレームワークです。<br />
                    ステートマシン内蔵のイベントループにより、<strong>Chunked Transfer・SSE・Range 送信</strong>などの段階的なレスポンス処理を安定して実行できます。<br /><br />

                    REST-API は <strong>CUEI アーキテクチャ</strong>上で動作し、通信方式に依存しない統一モデルを採用しています。<br />
                    これにより、WebSocket/TCP/UDP と REST-API を同一プロセス内で安全に共存させることが可能です。<br />
                    また、<strong>PSR-7 準拠の Request/Response</strong> を採用しているため、OAuth2 を含む外部ライブラリとの統合や<strong>既存 PHP アプリケーションとの連携</strong>も自然に行えます。<br /><br />

                    実装方式は「<strong>イベントハンドラ型（即時処理）</strong>」と「<strong>ステートマシン型（段階処理）</strong>」の 2 方式から選択でき、軽量な CRUD API から状態遷移を伴う高度な API まで柔軟に対応します。<br />
                    <strong>Laravel とのネイティブ連携</strong>にも対応しており、Logger・Eloquent・Service Container などのリソースを<strong>追加実装なしで利用</strong>できます。<br /><br />

                    REST-API の内部構造や実装方式、設定ファイル、サンプルコードについては、以下の各カテゴリで詳しく解説しています。<br /><br /><br />


                    REST-API の基盤となる内部構造（CUEI / Event / IPC）については、
                    以下のページもあわせて参照してください。<br />
                    <ul>
                        <li><a class="link-bottom-margin" href="../architecture.html" target="_blank">▶アーキテクチャ（CUEI 全体）</a></li>
                        <li><a class="link-bottom-margin" href="../event.html" target="_blank">▶イベント駆動アーキテクチャ（E）</a></li>
                        <li><a class="link-bottom-margin" href="../ipc.html" target="_blank">▶IPC（プロセス間通信）（I）</a></li>
                    </ul><br />

                    Laravel とのネイティブ連携方法については、
                    <font><a href="../laravel.html#old-project" target="_blank">▶Laravelと連携する（既成プロジェクトを連携）</a></font>
                    で詳しく解説しています。<br />
                    （REST-API 環境を連携する場合は MainForRestApi のメイン処理クラスも別途変換する必要があります。上記リンク先で紹介されているビルトインコマンドを使って変換できます。）<br />
                </div><br />

                <a id="menu"></a>
                <h2 class="subtitle">メニュー構成</h2>
                <div class="text-block">

                    <br />
                    <h3 class="underline">BASIC-CONCEPTS（基礎・コンセプト）</h3>
                    REST-API サーバー開発環境の全体像を理解するための基礎知識をまとめたカテゴリです。<br />
                    フレームワークの思想、構造、導入手順をここから学べます。<br />

                    <p>
                        <strong><a href="./concept.html">▶コンセプトと構造</a></strong><br>
                        フレームワークの思想、CUEI の全体像、REST-API に強い理由をまとめています。
                    </p>
                    <p>
                        <strong><a href="./install.html">▶導入と構成</a></strong><br>
                        インストール方法、ディレクトリ構成、設定ファイル、起動方法を説明します。
                    </p>

                    <br />
                    <h3 class="underline">QUICK-START（クイックスタート）</h3>
                    「サンプルを利用する場合」や「新規でサーバーを作る場合」など、ケース別での最短で動かす方法をここから学べます。<br />

                    <p>
                        <strong><a href="./quickstart-sample.html">▶サンプルを利用する場合</a></strong><br>
                        最短で API を作るための手順とサンプルをまとめています。
                    </p>
                    <p>
                        <strong><a href="./quickstart-new-server.html">▶新規でサーバーを作る場合</a></strong><br>
                        最短でサーバーを１から作るための手順とサンプルをまとめています。
                    </p>

                    <br />
                    <h3 class="underline">CUEI-FOUNDATION（CUEI / 基盤技術）</h3>
                    REST-API を支える内部アーキテクチャ（CUEI）と、PSR-7 やルーティングなどの基盤技術を扱うカテゴリです。<br />
                    REST-API がどのように動作しているか、内部構造を理解したい場合に役立ちます。<br />

                    <p>
                        <strong><a href="./cuei.html">▶CUEIとの実装レベルでの関係</a></strong><br>
                        Communication / Union / Event / IPC の4要素を深掘りします。
                    </p>
                    <p>
                        <strong><a href="./psr7.html">▶PSR-7 ラッパーの仕様</a></strong><br>
                        Request / Response Wrapper の完全版とコンテキスト変数を使った使用方法を説明します。
                    </p>
                    <p>
                        <strong><a href="./routing.html">▶ルーティングの概要</a></strong><br>
                        ルーティングの基本思想と仕組みを概念的に解説するページです。
                    </p>

                    <br />
                    <h3 class="underline">IMPLEMENT-STYLES（実装方式）</h3>
                    REST-API を実装するための 2 つの方式（イベントハンドラ型 / ステートマシン型）を体系的に解説するカテゴリです。<br />
                    API の性質に応じて、どちらの方式を選ぶべきか判断できるようになります。<br />

                    <p>
                        <strong><a href="./event-handler.html">▶イベントハンドラ型実装</a></strong><br>
                        単一メソッドで即時処理を行う軽量な REST-API 実装方式を解説するページです。
                    </p>
                    <p>
                        <strong><a href="./state-machine.html">▶ステートマシン型実装</a></strong><br>
                        UNIT を段階的に遷移させて処理するステートマシン方式の実装方法を解説するページです。
                    </p>

                    <br />
                    <h3 class="underline">OTHER-CLASSES（その他主要クラスの実装）</h3>
                    REST-API サーバーを構成する主要クラス（メイン処理 / コンテキスト / パーサー / Parallel）の実装方法とスキャフォールディングの種類をまとめたカテゴリです。<br />
                    REST-API の内部処理をカスタマイズしたい場合に参照します。<br />

                    <p>
                        <strong><a href="./main.html">▶メイン処理クラス実装</a></strong><br>
                        REST-API サーバー全体の動作を統括する中心クラスの構造と役割を解説するページです。
                    </p>
                    <p>
                        <strong><a href="./context.html">▶コンテキストクラス実装</a></strong><br>
                        リクエスト処理中の状態・依存情報を管理するコンテキストの仕組みを解説するページです。
                    </p>
                    <p>
                        <strong><a href="./parser.html">▶パーサークラス実装</a></strong><br>
                        HTTP ボディの解析や入力検証を行うパーサーの拡張方法を解説するページです。
                    </p>
                    <p>
                        <strong><a href="./parallel.html">▶Parallelクラス実装</a></strong><br>
                        REST-API と並行して動作する常駐処理やモジュール連携を実現する Parallel クラスの実装方法を解説するページです。
                    </p>
                    <p>
                        <strong><a href="./scaffolding.html">▶スキャフォールディング</a></strong><br>
                        REST-API 開発に必要な各種クラスを自動生成するスキャフォールディング機能の種類をまとめたページです。
                    </p>

                    <br />
                    <h3 class="underline">SETTING-FILES（設定ファイル）</h3>
                    REST-API サーバーの動作を制御する各種設定ファイル（ルーティング / パラメータ / CORS / パーサー）を解説するカテゴリです。<br />
                    サーバーの挙動を調整したい場合に必要な情報がまとまっています。<br />

                    <p>
                        <strong><a href="./setting-routing.html">▶ルーティング設定</a></strong><br>
                        ルーティング設定ファイルの書式と仕様を詳しく解説するリファレンスです。
                    </p>
                    <p>
                        <strong><a href="./setting-parameter.html">▶基本パラメータ設定</a></strong><br>
                        ホスト、ポート、サイズ制限、KeepAlive など、サーバー動作の中心設定です。
                    </p>
                    <p>
                        <strong><a href="./setting-cors.html">▶CORS 設定</a></strong><br>
                        allow-origins や allow-headers など、CORS ヘッダの制御を行います。
                    </p>
                    <p>
                        <strong><a href="./setting-parser.html">▶パーサー設定</a></strong><br>
                        JSON / XML などの HTTP ボディパーサーや Content-Type 別のパーサーの設定を行います。
                    </p>

                    <br />
                    <h3 class="underline">ADVANCED（より高度な使い方）</h3>
                    REST-API サーバー開発環境をさらに拡張するための高度な機能をまとめたカテゴリです。<br />
                    カスタムコマンド、Laravel 連携、システム設定など、応用的なトピックを扱います。<br />

                    <p>
                        <strong><a href="../custom-command.html" target="_blank">▶カスタムコマンド作成機能</a></strong><br>
                        独自の CLI コマンドを追加し、開発フローを拡張するための仕組みを解説するページです。
                    </p>
                    <p>
                        <strong><a href="../laravel.html" target="_blank">▶Laravelと連携する</a></strong><br>
                        Laravel と統合し、既存アプリケーションと連携させる方法を解説するページです。
                    </p>
                    <p>
                        <strong><a href="../system-setting.html" target="_blank">▶システム設定ファイル</a></strong><br>
                        フレームワーク全体の動作を制御するシステム設定ファイルの構造と役割を解説するページです。
                    </p>

                </div><br />

                <a id="foundation"></a>
                <h2 class="subtitle">基盤技術について（REST-API から見た概要）</h2>
                <div class="text-block">
                    REST-API サーバー開発環境は、SOCKET-MANAGER Framework 本体が提供する<strong>SocketManager / RuntimeManager / SimpleSocket</strong>といった基盤モジュールの上に構築されています。<br /><br />

                    これらのモジュールは、フレームワークに内蔵された<strong>UNIT（処理単位）とキュー（状態遷移）によるステートマシン</strong>を用いて動作し、複数のモジュールが同一プロセス内で共存できる柔軟なアーキテクチャを持っています。<br /><br />

                    REST-API 環境では、この基盤技術のうち<strong>SocketManager の特定構成をプリセット化したもの</strong>を利用しており、開発者は REST-API に必要な部分だけを扱えばよいように設計されています。<br /><br />

                    また、ステートマシンを基盤に持つことで、一般的なイベント駆動型ソリューションでは難しい<strong>Chunked Transfer / SSE / Range送信 / IPC（サーバー間通信）</strong>といった高度な処理を安定して実現できます。<br /><br />

                    基盤技術の詳細なアーキテクチャ（UNIT / キュー構造、モジュール構成、マルチサーバー動作など）については、<strong>フレームワーク本体ドキュメント（ADVANSEDメニューカテゴリ）</strong>の<font><a href="../architecture.html" target="_blank">▶アーキテクチャ</a></font> のページを参照してください。<br />
                </div><br />

                <a id="feature"></a>
                <h2 class="subtitle">特徴</h2>
                <div class="text-block">
                    <br />
                    <h3 class="underline">REST-API / RESTful-API 対応</h3>

                    <ul>
                        <li>標準的な REST-API 設計に加え、RESTful-API のリソース指向設計にも対応</li>
                        <li>PSR-7準拠の Request / Response を採用</li>
                        <li>OAuth2 など PSR-7 対応モジュールとの連携が容易</li>
                    </ul>

                    PSR-7 公式仕様：<br />
                    <a href="https://www.php-fig.org/psr/psr-7/" target="_blank">https://www.php-fig.org/psr/psr-7/</a><br /><br />

                    <br />
                    <h3 class="underline">クロスプラットフォーム（PHP環境）</h3>

                    <ul>
                        <li>PHP が動作する環境であれば OS を問わず利用可能</li>
                        <li>Linux / Windows で動作確認済み</li>
                    </ul>

                    <br />
                    <h3 class="underline">ステートマシン内蔵</h3>

                    <ul>
                        <li>Chunked Transfer（チャンク転送）</li>
                        <li>Server-Sent Events（SSE）</li>
                        <li>Range送信</li>
                        <li>IPC（サーバー間通信）</li>
                        <li>長時間接続・状態遷移を伴う API に最適</li>
                    </ul>

                    <br />
                    <h3 class="underline">イベントハンドラ型 / ステートマシン型の2方式</h3>

                    <ul>
                        <li><strong>イベントハンドラ型</strong>：単一のイベントハンドラで完結する一般的な REST API に最適</li>
                        <li><strong>ステートマシン型</strong>：状態遷移を伴う API（Chunked / SSE / Range）に最適</li>
                    </ul>
                </div><br />

                <a id="implement"></a>
                <h2 class="subtitle">実装形態</h2>
                <div class="text-block">
                    <br />
                    <h3 class="underline">イベントハンドラタイプ</h3>

                    単一のイベントハンドラで処理を行うシンプルな方式。<br />
                    一般的な CRUD API や短時間で完結する処理に適しています。<br />

                    <ul>
                        <li>シンプルで学習コストが低い</li>
                        <li>小規模〜中規模 API に最適</li>
                    </ul>

                    <br />
                    <h3 class="underline">ステートマシンタイプ</h3>

                    UNIT（状態）単位で処理を分割し、状態遷移を伴う API を実装する方式。<br />
                    以下のようなケースで特に強みを発揮します。<br />

                    <ul>
                        <li>Chunked Transfer（確実な分割送信）</li>
                        <li>SSE（再接続後の継続受信）</li>
                        <li>Range送信（部分的なデータ送信）</li>
                        <li>IPC を伴う複雑な状態管理</li>
                        <li>長時間接続が必要な API</li>
                    </ul>
                </div><br />

                <a id="sample"></a>
                <h2 class="subtitle">サンプル構成</h2>
                <div class="text-block">
                    REST-API サーバー開発環境には、動作確認用のサンプルが同梱されています。<br />
                    イベントハンドラ型 / ステートマシン型の両方を用意しています。<br />

                    <br />
                    <h3>● ユーザー情報操作（CRUD）</h3>

                    <ul>
                        <li>GET：ユーザー一覧取得</li>
                        <li>POST：新規ユーザー作成</li>
                        <li>PUT：ユーザー全体更新</li>
                        <li>PATCH：ユーザー部分更新</li>
                        <li>DELETE：ユーザー削除</li>
                    </ul>

                    <br />
                    <h3>● Multipart アップロード</h3>

                    <ul>
                        <li>アップロード済みファイルの確認</li>
                        <li>Multipart形式でのファイルアップロード</li>
                    </ul>

                    <br />
                    <h3>● Chunked アップロード</h3>

                    <ul>
                        <li>Chunkedアップロード済みファイルの確認</li>
                        <li>curl コマンドによるアップロード（ブラウザ制約回避のため）</li>
                    </ul>

                    <br />
                    <h3>● チャンク転送デモ</h3>

                    ステートマシンタイプでは、Chunked Transfer による分割送信が確実に行われます。<br />
                    以下の GIF アニメでは、5秒間隔でチャンクが送信される様子を確認できます。<br /><br />

                    <img src="./img/index/chunked.gif" width="320px" loading="lazy" alt="Chunked Transfer による5秒間隔の分割送信デモ" title="Chunked Transfer の分割送信動作（5秒間隔）" /><br />

                    <br />
                    <h3>● SSE（再接続対応）デモ</h3>

                    Server-Sent Events（SSE）では、クライアントが切断された場合でも再接続後に続きから受信できます。<br />
                    以下の GIF アニメでは、接続断 → 再接続 → 続きのイベント受信までの流れを確認できます。<br /><br />

                    <img src="./img/index/sse.gif" width="320px" loading="lazy" alt="SSE の再接続後に続きを受信するデモ" title="SSE の再接続とイベント受信の継続動作" />

                    <br />
                    <h3>● Rangeヘッダを使った分割送信デモ</h3>

                    <br />
                    <h3>● IPC / マルチサーバーサンプル</h3>

                    サーバー間通信を利用したランチャーのカスタムモニタリング（同時接続ユーザー数など）連携の実装例。<br />

                </div><br />

                <a id="install"></a>
                <h2 class="subtitle">導入方法</h2>
                <div class="text-block">
                    以下のコマンドで REST-API 開発環境を作成します。<br />

                    <pre color-change="command" aria-label="導入コマンド">
composer create-project socket-manager/rest-api <任意のプロジェクトフォルダ>
                    </pre>
                </div><br />

                <a id="startup"></a>
                <h2 class="subtitle">サンプルの起動方法</h2>
                <div class="text-block">

                    <br />
                    <h3 style="margin-bottom: 0px;">● イベントハンドラタイプのサーバー起動</h3>

                    <pre color-change="command" aria-label="サーバー起動">
php worker app:event-handler-sample
                    </pre>

                    <br />
                    <h3 style="margin-bottom: 0px;">● ステートマシンタイプのサーバー起動</h3>

                    <pre color-change="command" aria-label="サーバー起動">
php worker app:state-machine-sample
                    </pre>

                    <br />
                    <h3 style="margin-bottom: 0px;">● ブラウザでサンプル画面を表示</h3>

                    <pre aria-label="サンプル画面のURL">
http://localhost:10000/sample.html
                    </pre>

                    ※ サンプルサーバーが Web サーバーを兼ねているため、別途 Web サーバーは不要<br />
                    ※ ドキュメントルートは <code>./setting/parameter-sample.php</code> で変更可能（デフォルト：<code>public/</code>）<br />
                </div><br />

                <a id="link"></a>
                <h2 class="subtitle">関連リンク</h2>
                <div class="text-block">
                    <br />
                    <ul>
                        <li>
                            REST-API 開発環境（GitHub）<br />
                            <a href="https://github.com/socket-manager/rest-api/" target="_blank">https://github.com/socket-manager/rest-api/</a>
                        </li>
                    </ul>
                    <ul>
                        <li>
                            SOCKET-MANAGER Framework 本体<br />
                            <a href="https://github.com/socket-manager/library/" target="_blank">https://github.com/socket-manager/library/</a>
                        </li>
                    </ul>
                    <ul>
                        <li>
                            公式ドキュメント<br />
                            <a href="https://socket-manager.github.io/document/" target="_blank">https://socket-manager.github.io/document/</a>
                        </li>
                    </ul>
                </div><br />
            </div>
        </div>
    </body>
</html>
