<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>コンセプトと構造 | REST-APIサーバー開発環境 | SOCKET-MANAGER Framework For PHP</title>
        <meta name="description" content="SOCKET-MANAGER Framework の REST-API サーバー開発環境における基本思想とアーキテクチャ構造を解説。CUEI、PSR-7、ステートマシン、IPC による統合的な API 基盤の設計コンセプトを紹介します。" />
        <meta content="SOCKET-MANAGER, REST-API, RESTful-API, PHPフレームワーク, CUEI, PSR-7, ステートマシン, IPC, アーキテクチャ, コンセプト" name="keywords" />
        <link rel="canonical" href="https://socket-manager.github.io/document/rest-api/concept.html" />

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LF9W695NNW"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-LF9W695NNW');
        </script>
        <link rel="icon" href="https://socket-manager.github.io/document/favicon.ico" type="image/x-icon" />
        <link type="text/css" rel="stylesheet" href="../css/common.css" media="all" />
        <script src="../js/jquery-3.7.1.min.js"></script>
        <script type="text/javascript" src="../js/common.js"></script>
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "TechArticle",
            "headline": "REST-APIサーバー開発環境 - コンセプトと構造",
            "description": "SOCKET-MANAGER Framework の REST-API サーバー開発環境における基本思想とアーキテクチャ構造を解説。CUEI、PSR-7、ステートマシン、IPC による統合的な API 基盤の設計コンセプトを紹介します。",
            "keywords": "SOCKET-MANAGER, REST-API, RESTful-API, PHPフレームワーク, CUEI, PSR-7, ステートマシン, IPC, アーキテクチャ, コンセプト",
            "inLanguage": "ja",
            "articleSection": [
                "REST-API Architecture",
                "PHP Framework Design",
                "Technical Documentation"
            ],
            "author": {
                "@type": "Person",
                "name": "SOCKET-MANAGER開発チーム"
            },
            "publisher": {
                "@type": "Organization",
                "name": "SOCKET-MANAGER",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://socket-manager.github.io/document/logo.png",
                    "width": 355,
                    "height": 50
                }
            },
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://socket-manager.github.io/document/rest-api/concept.html"
            },
            "url": "https://socket-manager.github.io/document/rest-api/concept.html",
            "breadcrumb": {
                "@type": "BreadcrumbList",
                "itemListElement": [
                    {
                        "@type": "ListItem",
                        "position": 1,
                        "name": "Framework Top",
                        "item": "https://socket-manager.github.io/document/"
                    },
                    {
                        "@type": "ListItem",
                        "position": 2,
                        "name": "REST-APIサーバー開発環境",
                        "item": "https://socket-manager.github.io/document/rest-api/"
                    },
                    {
                        "@type": "ListItem",
                        "position": 3,
                        "name": "コンセプトと構造",
                        "item": "https://socket-manager.github.io/document/rest-api/concept.html"
                    }
                ]
            },
            "isPartOf": {
                "@type": "WebPage",
                "name": "REST-APIサーバー開発環境",
                "url": "https://socket-manager.github.io/document/rest-api/"
            }
        }
        </script>
    </head>
    <body>
        <div class="layout">
            <div class="menu" role="navigation" aria-label="ページメニュー">
                <h2 class="menu-title">SOCKET-MANAGER</h2>
                <h4 class="menu-reference menu-page-title-bottom">
                    <a href="../" target="_blank">&gt;&gt; Framework Top</a>
                </h4>

                <h2 class="menu-label">MAIN-MENU</h2>
                <div class="menu-text">

                    <h3 class="menu-page-title-link"><a href="./">▶REST-APIサーバー開発環境</a></h3>

                    <h3 class="menu-label-sub">BASIC-CONCEPTS</h3>
                    <div class="menu-text">

                        <h3 class="menu-page-title">▼コンセプトと構造</h3>

                        <ul><li><a href="./concept.html#begin">はじめに</a></li></ul>
                        <ul><li><a href="./concept.html#concept">フレームワークの思想</a></li></ul>
                        <ul><li><a href="./concept.html#architecture">アーキテクチャ概要</a></li></ul>
                        <ul><li><a href="./concept.html#cuei">CUEI アーキテクチャ</a></li></ul>
                        <ul><li><a href="./concept.html#affinity">CUEI と REST-API の親和性</a></li></ul>

                        <h3 class="menu-page-title-link"><a href="./install.html">▶導入と構成</a></h3>
                    </div>

                    <h3 class="menu-label-sub">QUICK-START</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./quickstart-sample.html">▶サンプルを利用する場合</a></h3>
                        <h3 class="menu-page-title-link"><a href="./quickstart-new-server.html">▶新規でサーバーを作る場合</a></h3>
                    </div>

                    <h3 class="menu-label-sub">CUEI-FOUNDATION</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./cuei.html">▶CUEIとの実装レベルでの関係</a></h3>
                        <h3 class="menu-page-title-link"><a href="./psr7.html">▶PSR-7 ラッパーの仕様</a></h3>
                        <h3 class="menu-page-title-link"><a href="./routing.html">▶ルーティングの概要</a></h3>
                    </div>

                    <h3 class="menu-label-sub">IMPLEMENT-STYLES</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./event-handler.html">▶イベントハンドラ型実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./state-machine.html">▶ステートマシン型実装</a></h3>
                    </div>

                    <h3 class="menu-label-sub">OTHER-CLASSES</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./main.html">▶メイン処理クラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./context.html">▶コンテキストクラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./parser.html">▶パーサークラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./parallel.html">▶Parallelクラス実装</a></h3>
                        <h3 class="menu-page-title-link"><a href="./scaffolding.html">▶スキャフォールディング</a></h3>
                    </div>

                    <h3 class="menu-label-sub">SETTING-FILES</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="./setting-routing.html">▶ルーティング設定</a></h3>
                        <h3 class="menu-page-title-link"><a href="./setting-parameter.html">▶基本パラメータ設定</a></h3>
                        <h3 class="menu-page-title-link"><a href="./setting-cors.html">▶CORS 設定</a></h3>
                        <h3 class="menu-page-title-link"><a href="./setting-parser.html">▶パーサー設定</a></h3>
                    </div>

                    <h3 class="menu-label-sub">ADVANCED</h3>
                    <div class="menu-text">
                        <h3 class="menu-page-title-link"><a href="../custom-command.html" target="_blank">▶カスタムコマンド作成機能</a></h3>
                        <h3 class="menu-page-title-link"><a href="../laravel.html" target="_blank">▶Laravelと連携する</a></h3>
                        <h3 class="menu-page-title-link"><a href="../system-setting.html" target="_blank">▶システム設定ファイル</a></h3>
                    </div>
                </div>

                <div class="menu-dummy-for-rest-api"></div>
            </div>
            <div class="main" role="main">

                <h1>【コンセプトと構造】</h1>

                <a id="begin"></a>
                <h2 class="subtitle">はじめに</h2>
                <div class="text-block">

                    SOCKET-MANAGER Framework の REST-API は、<strong>CUEI アーキテクチャの上に構築された統一的な通信モデル</strong>を採用しています。<br />
                    REST-API と WebSocket/TCP/UDP は同一プロセス内で自然に共存でき、通信方式の違いに依存しない柔軟な API 設計が可能です。<br /><br />

                    本ページでは、REST-API がどのような思想と構造のもとに設計されているか、また CUEI 全体の中でどの位置づけにあるのかを概念的に解説します。<br />

                </div><br />

                <a id="concept"></a>
                <h2 class="subtitle">フレームワークの思想</h2>
                <div class="text-block">

                    <br />
                    <h3 class="underline">外部依存を排除した基盤</h3>
                    SOCKET-MANAGER Framework は、Composer パッケージや外部ミドルウェアに依存せず、
                    フレームワーク単体で動作することを前提に設計されています。<br />
                    これにより、環境差異や依存関係によるトラブルを最小化し、
                    安定した運用が可能になります。<br /><br />

                    <h3 class="underline">CUEI による統一抽象化</h3>
                    通信方式や実装方式の違いを吸収し、どのプロトコルでも同じ開発体験を提供するために
                    <strong>CUEI（Communication / Union / Event / IPC）</strong> を採用しています。<br />
                    REST-API もリアルタイム通信も、同じ抽象化レイヤーの上で統一的に扱えます。<br /><br />

                    <h3 class="underline">REST-API に強い構造</h3>
                    PSR-7 準拠の HTTP 処理、ステートマシンによる確実な分割送信、
                    IPC によるスケールアウトなど、REST-API に必要な機能を
                    フレームワーク本体にビルトインしています。

                </div><br />

                <a id="architecture"></a>
                <h2 class="subtitle">アーキテクチャ概要</h2>
                <div class="text-block">

                    <br />
                    <h3 class="underline">リクエスト受信</h3>
                    HTTP メッセージを PSR-7 準拠で受信し、RequestWrapper によって扱いやすい形に変換します。<br /><br />

                    <h3 class="underline">ルーティング処理</h3>
                    URL・HTTP メソッド・正規表現・名前付きパラメータなどを基に、
                    適切なイベント処理（イベントハンドラ型 / ステートマシン型）へ振り分けます。<br /><br />

                    <h3 class="underline">イベント処理実行</h3>
                    イベントハンドラ型では単一メソッドで処理を完結させ、
                    ステートマシン型では UNIT（状態）単位で処理を分割します。<br /><br />

                    <h3 class="underline">レスポンス生成</h3>
                    ResponseWrapper により、text / json / file / chunked / SSE / Range など、
                    多様なレスポンス形式を統一 API で扱えます。<br /><br />

                    <h3 class="underline">イベントループとコルーチン</h3>
                    内部ではイベントループが動作し、非同期処理や長時間接続を効率的に管理します。

                </div><br />

                <a id="cuei"></a>
                <h2 class="subtitle">CUEI アーキテクチャ</h2>
                <div class="text-block">

                    <br />
                    <h3 class="underline">Communication</h3>
                    TCP / UDP / WebSocket / HTTP / 独自プロトコルを統一的に扱う通信抽象化レイヤーです。<br />
                    REST-API もこの Communication 層の上に構築されています。<br /><br />

                    <h3 class="underline">Union（Context）</h3>
                    RequestWrapper / ResponseWrapper / IPC 情報などをまとめた共有基盤です。<br />
                    どのイベント処理でも同じ API でアクセスできるため、実装がシンプルになります。<br /><br />

                    <h3 class="underline">Event</h3>
                    イベントループ・ステートマシン・コルーチンを統合した実行モデルです。<br />
                    Chunked / SSE / Range など、状態遷移を伴う API を安定して実現します。<br /><br />

                    <h3 class="underline">IPC</h3>
                    サーバー間通信を行う仕組みで、Parallel クラスを通じて
                    マルチサーバー構成や分散処理を実現します。

                </div><br />

                <a id="affinity"></a>
                <h2 class="subtitle">CUEI と REST-API の親和性</h2>
                <div class="text-block">

                    <br />
                    <h3 class="underline">Context による統一 API</h3>
                    RequestWrapper / ResponseWrapper を通じて、
                    どのイベント処理でも同じ API で HTTP を扱えます。<br /><br />

                    <h3 class="underline">ステートマシンによる高度処理</h3>
                    Chunked Transfer の確実な分割送信、SSE の再接続対応、Range 送信など、
                    一般的なフレームワークでは難しい処理を安定して実現します。<br /><br />

                    <h3 class="underline">IPC によるスケールアウト</h3>
                    マルチサーバー構成での負荷分散や、Launcher との連携による
                    サーバー監視・制御が可能です。<br /><br />

                    <h3 class="underline">Launcher との統合</h3>
                    DevOps 向けの SOCKET-MANAGER Launcher と連携し、
                    サーバーリソース監視・CPU 割り当て・サービス制御などを統合的に管理できます。

                </div><br />

            </div>
        </div>
    </body>
</html>
